
 
  
 
<운영이관에 수정할 사항>
 - admin_role 테이블 추가됨
 - sdp.523.sid=OHSERV 부가서비스 가입 여부 확인 그룹 
  (여러 상품을 묶어놓음, OIF_523을 호출하여 묶여있는 상품중 가입여부를 판단해줌)
  
 - admin 페이지 deploy 방법 
  http://admin.happyon.olleh.com:8309/ 접속 (ktsfs/happy!23)
  Deployment -> Manage Deployments 클릭 
  Add Content 클릭 -> deploy 할 war 파일 선택후 Next -> Save 버튼 클릭
  En/ Disable 항목에서 Enable 버튼 클릭 -> Enabled 에 V표시 되면 성공 
 
 
<TODO>
admin page 만들자.
git 을 설치하자.
new ServiceException(ServiceError.E_SERVER_ERROR, "addUser Fail"); // 에러코드 반환하는 것 한줄로 끝내기
test7 주석을 제거하자.
//서버 db 백업하는 방법 알아보자.(관리자만 가능)
- 백신자료 설치 (20일까지)
  어느 디렉토리에 깔려있다 증거자료 yum search
  ssl 인증서 설치한 위치 설정파일 
- KPNS & GCM  추가 개발
- 메일에서 별표 표시메일  확인
- 베라 쿠폰 25일까지 소진하도록 변경
- 
-----------------------------------------------------------------------------


  
 
*******************
** 디플로이 방법 **
*******************
- 리소스를 prod 버전으로 변경
- 프로젝트에서 우측마우스 클릭 후 refresh(F5) 
- 프로젝트에서 우측마우스 Export 클릭  sfs.war로 저장
- ftp를 통해 sfs.war 파일 업로드하기 2군데
- cd /usr/share/jboss-as/standalone/deployments
 
// 어드민 페이지
http://admin.happyon.olleh.com/SfsAdmin
ssl 인증서 설치 후  https 로 연결해야한다.
http://localhost:8080/SfsAdmin/loginForm.html 
SfsAdmin 에다가 dao를 적용하여 추가하고
값을 읽어보자.
moda2144



    
<web error code>
415: header에 데이터를 넣어라 
 
<VIM 사용범>
Log 파일을 볼때는 vim -R 로 하자 readonly로 적용됨 (-R 귀찮으면 linux bash에 등록하자.)
G 클릭하면 맨밑으로 이동됨
:edit 하면 자동으로 갱신한다.(입력할 때만)
   
<WAS에 Deploy 하는 방법> (메이븐 설정참고: 프로젝트 우측마우스 -> configure -> Convert to Maven project )
Run as -> Run Configurations -> Goals: eclipse:clean eclipse:eclipse  <--입력 
Profiles: prod  <-- 입력 ( 설정값을 prod에 맞게 바꿔주기 작업 )
Run 버튼 클릭
Refresh(F5) 키 누르면 Resource 가  prod로 적용됨 ( 이전것은 아래로 내려간다.) 
Export 해서 war파일을 생성한다.
#/usr/share/jboss-as/standalone/deployments/sfs.war <-- 에 파일을 업로드한다.
(/usr/share/jboss-as/standalone/deployments/sfs.war.deployed 파일이 생성되면 성공, log 패턴 확인하자)

<WAS에 Deploy 하는방법 TB쪽>
http://10.217.37.155:8309/ 접속 (id : ktsfs  / pw : qwer1234 )
http://10.220.160.218:8309 (id: ktsfs / pw: happy!23)   
 - /usr/share/jboss-as/bin/add-user.sh <- 이 명령을 통해서 암호를 설정한다.
 - 암호 삭제하는 곳 vim /usr/share/jboss-as/standalone/configuration/mgmt-users.properties


<방화벽은 3단계로 되어있음>
PC자체 방화벽 (iptables)
머신을 둘러 쌓고 있는 방화벽
방화벽  
 
<PORT>
22
80
443
5432: postgresql
8009
8109
8209
8309
9418: gitport 삭제예정
14901


<용어>
SMP : 서버 취악점 진단 시스템
SDP: 각종인증(라디오,), 부가서비스, 확인, 가입
KPNS: push server
Xcroshot: 문자전송
 

<V3 설치>
홈페이지: http://www.clamav.net/doc/install.html#rhel
#yum install -y epel-release 
#yum install -y clamav
   
<Agent 설치>
담당자: 백경숙 과장 010-7300-0117   
개요: 보안을 열기 위해 agent를 설치해야한다. (solidstep)
sftp로 linux.tar 파일을 업로드 후 아래 작업
tar xvf linux.tar
./Install.sh
no
PG050601
YES 
(done 이라고 나오면 설치완료 한것 임)
 
<Eclipse>
// 원도우 Eclipse에서 jboss 가 안될 때 아래 폴더에 있는 모든 것을 삭제해봐라
D:\java\jboss-as-7.1.1.Final\standalone\deployments

<DB 접속안될때>
#su - postgresql
#/postgres/9.3/bin/pg_ctl start

<DB 접속하기>
$su - postgres
$psql -U senior
  
<프로젝트 새로 import 할때> 
 - workspace UTF-8로 설정
 - jboss 추가 후 jboss AS 7.1 더블클릭 -> Deployment 탭선택 -> Default Settings 에서 Use workspace metadata 선택 -> 저장
 - 메이븐 설정: 프로젝트 우측마우스 -> configure -> Convert to Maven project

<ShellMonitorAgent 설치> 설치문서 참고
Cloud IPC / IT인프라보안팀 나재민 / 10.217.27.115
#telnet 10.217.27.115 7778 <- 포트 열렸는지 확인하기
#ps -ef | grep Shell <- ShellMonitorAgent 구동중 여부 확인
# 설치는 19페이지 참고
#gunzip ShellMonitorAgent_linux64_V2.5.1.3.tar.gz 
#tar xvf ShellMonitorAgent_linux64_V2.5.1.3.tar.gz
클라이언트 감지 실행 



<홈페이지>
http://ipc.kt.com  : 사내 클라우드 통합관리 시스템 (방화벽 열기)
http://comm.ktfriend.com : 사내 메일
http://ktacs.kt.com : 사내 IT 접근제어 시스템 (콘솔로 리눅스 서버 접근하기)
http://evm.kt.com/apc/AgentInstall/list_agent.htm : V3 설치
https://idms.kt.com/ : 통합계정관리 시스템 (메신저 및 메일을 사용할 수 있도록 신청하는 곳)
https://drm.kt.com : 웹 복호화 시스템
https://smp.kt.com : 취약점 진단 시스템 (리눅스 서버 보안 점검)
http://cass.magicn.com/cass/login_go.do : SOP 개발사 계정등록
http://motive.olleh.com/ : 모티브 (SDP 검증) (ppusarida/7*0*1*0*s*)  https://motive.show.co.kr 로변경됨
http://sop.magicn.com : SOP 검증 (ppusarida/7*0*1*0*s*) (ares09/happy!23)  임성현 차장  / 김민성 ( IE에서 치리)
https://www.data.go.kr/ : 날씨정보 획득

<담당자>
PM
 - 임상현 010-3010-1572
DB
 - 김슬예나:  
 - IT보안팀 김형용 부장님 <- 상용DB 접근하는것 승인받아야됨
Firewell
Firewell
 - 조평희: 010-2921-7062
 - 신현배: 방화벽 요청 (신현배 -> 심규진 -> 안민)
 -   안민: 긴급프로세서 요청
 - 심규진: 방화벽 
Message Push (KPNS)
 - 김홍범: 010-6859-2809  
Radio 상품문의
 - 김현중: 상품가입하는데 이용하는 제한이나 요금제 있냐? 특정 요금제가입해야만 SDP 이렇게 내용을 줬다.

<아이디/패스워드 관리>
other: 91103288/happy!23/Clfdnjf&7/
ShellMonitorAgent: 91103288/init1234!

// 아파치 설정 정보
http://cchelf.tistory.com/72
  
<잡동사항들>------------------------------------------------------------------------------------------------
 
권민정: 퍼블리셔 
 
010-7201-XXXX 는 죄다 KT 법인번호로 테스트용
Push 토큰을 등록해져있어야만 push를 보낼 수 있다?
sop 검증 결함보기   - http://sop.magicn.com 들어가서 보기

// 조평희 
가입자 PP = 가입자의 폰 요금제 때문에 발생한 것임 (91106 1104) 
부가 서비스를 한다고 하면 가입이 가능한 규칙이 있다. ( 확인해 보자 )

// 조평희 
OIF_523 으로 호출하면 리턴값이 1이 안온다.
그런데 error 메시지를 띄우면 SANTA1120 이라고 난다.(서비스에 가입하지 않은 정상 CTN의 사용자 ( 정상 메시지 ))
OIF_750 으로 호출하면 리턴값이 1이 안온다.
error 메시지를 띄우면 SANTA1104 이라고 나온다.
 - 확인해 달라. 

 
// 엔티티코드
&le; =< 
&lt; 는 < 
&gt; 는 > 
&amp; 는 &
&nbsp; 는 공백문자


// 라디오 구매건 메일 연락쳐들..
"조평희(KT협력사)" <91029750@ktfriend.com>
"용창육(KT ucloud플랫폼팀)" <changyuk.yong@kt.com>,
"이준범(KT협력사)" <91029885@ktfriend.com>,
"이호태(KT협력사)" <91030097@ktfriend.com>,
"천귀호(KT 서비스인증플랫폼팀)" <gwiho.chun@kt.com>,
"김현중(KT 신규데이터사업개발팀)" <styner.kim@kt.com>

 
 
시건장치번호: 1231

  
// 월요일날 가보니 뻗어 있었음 (7월 13일)
00:24:24,648 [309  ] INFO  [com.kt.sfs.controller.SettingController] -
{
    'result': {
        'resultCode': '0',
        'resultMessage': 'Success.'
    }
}
00:30:53,509 [     ] INFO  [org.jboss.as.controller] - JBAS014774: Service status report
JBAS014775:    New missing/unsatisfied dependencies:
      service jboss.server.controller.management.security_realm.ApplicationRealm.properties_authentication (missing) dependents: [service jboss.server.controller.management.security_realm.ApplicationRealm]

00:30:53,541 [     ] INFO  [org.jboss.as.osgi] - JBAS011942: Stopping OSGi Framework

//
3-3 25분까지 시청함.

★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★
 Eclipse, jboss 
★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★


// ETC Tip
 - http://www.alexa.com 접속하면 어떤 사이트가 1위인지 알 수 있다.
 - 아프리카 스디븐박스 http://afreeca.com/gmygungs
 - http://www.80port.com/ 도메인 사는곳 (쉬운스프링 이야기 3-2)
 - http://digitalocean.com  (웹 호스팅 업체)
 - jenkins-ci.org 
  
// Eclipse Tip
 - 프로젝트 시작시 UTF-8로 설정되도록 하는 방법
   STS.ini에 -Dfile.encoding=utf-8 을 추가 하면 UTF-8로 설정된다.
 - 편집하고 있는 페이지가 어느 트리구조에 존재하는지 확인하는 방법
   트리구조 위에 - 누른 뒤 화설표 좌우 그림을 누르면 이동된다.
 - Invalid LOC header 에러가 나타난다면
   ~/.m2/ 파일이 깨져서 그런다 해당 파일을 삭제하고 다시 받아야함. 
 - web-context.xml 에 <mvc:annotation-driven/> 의 의미
   컨트롤러를 자동으로 찾게 만들어준다.


// Jboss error
 - msc00001 failed to start service jboss.deployment.unit 에러나면 D:\java\jboss-as-7.1.1.Final\standalone\deployments 폴더 안에 있는것을 삭제

		  
 
 
 




★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★
리눅스 정리
★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★
 
리눅스 사이트
 - http://zetawiki.com/
 
  
 yum
  - #vi /etc/resolv.conf   <- 받아올 주소들이 있는 곳
  - #/etc/yum.repos.d      <- 다운로드 url이 존재하는 곳
    /etc/yum.repos.d/*.repo 파일로 존재하면 자동으로 검색한다.
  - #yum repolist			<- 설치된 repo를 확인할 수 있다.
  - 이하 설치 참고자료http
  - http://blog.saja92.net/96 
  
 log
  - # tail -f server.log  <- 실시간 로고보기
  -
 
date
 - 리눅스 시간 직접 바꾸기
  # date -s "28 OCT 2013 18:32:40" 
  # date +%Y%m%d -s "20131028"
  # date +%T -s "12:16:30"
 - 타임서버이용 바꾸기
  # rdate -s time.windows.com (time.bora.net, time.nist.gov, time.nuri.net, time.kriss.re.kr)
          
		  
sh
 - 패치파일 만들기
  # vim log <- 파일 만들기  
  #chmod u+x log <-권한 설정
  #./log  <- 실행방법1
  #sh log <- 실행방법2           
          
          
소유권 수정하기
 #chown -R apache html
 #chgrp -R apache html          
 
 
clamav 
 - 백신 설치 
 - # wget http://sourceforge.net/projects/clamav/files/clamav/0.97.5/clamav-0.97.5.tar.gz
 - # ./configure --enable-static --prefix=/usr/local/clama
 - 이하 설치참고자료
 - http://intro0517.tistory.com/47 
 - http://vellder-textcube.blogspot.kr/2010/02/clamav-%EC%84%A4%EC%B9%98.html
 - wget http://sourceforge.net/projects/clamav/files/clamav/0.98/clamav-0.98.tar.gz/download?use_mirror=jaist

 
 
 
		 
